<ion-content>
  <div class="spin" *ngIf="spinner">
    <ion-spinner name="crescent"></ion-spinner>
</div>
  <div class="container" *ngIf="!spinner">
    <ion-row>
      <ion-col>
        <ion-button color="success" (click)="irASalas()" expand="block">Salas</ion-button>
      </ion-col>
      <ion-col>
        <ion-button color="danger" (click)="authService.SignOut()" expand="block">Salir</ion-button>
      </ion-col>
    </ion-row>
    <h3 class=" text-center">Sala de Chat 4-B</h3>
    <div class="msg_history" >
      <div *ngFor="let mensaje of listadoMensajesMostrar">
        <div class="incoming_msg" *ngIf="!mensaje.siSoy">
          <div class="incoming_msg_img"> <img src="https://ptetutorials.com/images/user-profile.png" alt="sunil"> </div>
          <div class="received_msg">
            <div class="received_withd_msg">
              <p>{{mensaje.mensaje}}</p>
              <span class="time_date"> {{mensaje.fecha}} | {{mensaje.email}}</span>
              
            </div>
          </div>
        </div>
        <div class="outgoing_msg" *ngIf="mensaje.siSoy">
          <div class="sent_msg">
            <p>{{mensaje.mensaje}}</p>
            <span class="time_date"> {{mensaje.fecha}}</span>
           </div>
        </div>
      </div>
      
    </div>
    
        <div class="type_msg">
          <div class="input_msg_write">
           
            <input type="text" class="write_msg" placeholder="Escriba su mensaje" [(ngModel)]='mensaje'/>
            <button class="msg_send_btn" type="button" (click)="mandarMensaje()">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-send-fill" viewBox="0 0 16 16">
                <path d="M15.964.686a.5.5 0 0 0-.65-.65L.767 5.855H.766l-.452.18a.5.5 0 0 0-.082.887l.41.26.001.002 4.995 3.178 3.178 4.995.002.002.26.41a.5.5 0 0 0 .886-.083l6-15Zm-1.833 1.89L6.637 10.07l-.215-.338a.5.5 0 0 0-.154-.154l-.338-.215 7.494-7.494 1.178-.471-.47 1.178Z"/>
              </svg>
            </button>
            <div *ngIf="this.hayError">
              <span class="alert-danger">{{this.error}}</span>
            </div>
          </div>
        </div> 
  </div>
</ion-content>